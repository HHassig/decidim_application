{"ast":null,"code":"$(function () {\n  var target = document.getElementById(\"participatory-process-group-homepage-calendar\");\n  var filters = JSON.parse(decodeURIComponent(target.dataset.resources));\n  function removeFilter(filters, filter) {\n    return filters.filter(function (element) {\n      return element !== filter;\n    });\n  }\n  var calendarEl = document.getElementById('calendar');\n  var calendar = new Calendar(calendarEl, {\n    plugins: [timeGridPlugin, dayGridPlugin],\n    defaultView: \"dayGridMonth\",\n    locale: \"es\",\n    header: {\n      left: \"prev,next today\",\n      center: \"title\",\n      right: \"dayGridMonth,dayGridWeek,dayGridDay\"\n    },\n    height: \"auto\",\n    eventTimeFormat: {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: false,\n      omitZeroMinute: false\n    },\n    events: JSON.parse(decodeURIComponent(target.dataset.events)),\n    eventRender: function eventRender(info) {\n      if (\"subtitle\" in info.event.extendedProps) {\n        title = \"<span class=\\\"fc-title\\\"><b>\" + info.event.title + \"</b> - \" + info.event.extendedProps.subtitle + \"</span>\";\n        info.el.firstChild.innerHTML = title;\n      }\n      return filters.includes(info.event.extendedProps.resourceId);\n    }\n  });\n  $(function () {\n    calendar.setOption('locale', target.dataset.locale);\n    calendar.render();\n    $(\".cal-filter\").on(\"click\", function () {\n      $(this).toggleClass(\"hollow\");\n      var filter = $(this).attr(\"id\");\n      if (filters.includes(filter)) {\n        filters = removeFilter(filters, filter);\n      } else {\n        filters.push(filter);\n      }\n      calendar.rerenderEvents();\n    });\n  });\n});","map":{"version":3,"names":["$","target","document","getElementById","filters","JSON","parse","decodeURIComponent","dataset","resources","removeFilter","filter","element","calendarEl","calendar","Calendar","plugins","timeGridPlugin","dayGridPlugin","defaultView","locale","header","left","center","right","height","eventTimeFormat","hour","minute","hour12","omitZeroMinute","events","eventRender","info","event","extendedProps","title","subtitle","el","firstChild","innerHTML","includes","resourceId","setOption","render","on","toggleClass","attr","push","rerenderEvents"],"sources":["/Users/harrisonhassig/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/bundler/gems/decidim-module-alternative_landing-110292c2b0f3/app/packs/src/decidim/alternative_landing/decidim_fullcalendar.js"],"sourcesContent":["$(() => {\n  const target = document.getElementById(\"participatory-process-group-homepage-calendar\");\n  let filters = JSON.parse(decodeURIComponent(target.dataset.resources));\n\n  function removeFilter(filters, filter){\n    return filters.filter((element) => element !== filter)\n  }\n\n  const calendarEl = document.getElementById('calendar');\n  const calendar = new Calendar(calendarEl, {\n    plugins: [timeGridPlugin, dayGridPlugin],\n    defaultView: \"dayGridMonth\",\n    locale: \"es\",\n    header: {\n      left: \"prev,next today\",\n      center: \"title\",\n      right: \"dayGridMonth,dayGridWeek,dayGridDay\"\n    },\n    height: \"auto\",\n    eventTimeFormat: {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      hour12: false,\n      omitZeroMinute: false\n    },\n    events: JSON.parse(decodeURIComponent(target.dataset.events)),\n    eventRender: function(info) {\n      if (\"subtitle\" in info.event.extendedProps) {\n        title = \"<span class=\\\"fc-title\\\"><b>\" + info.event.title + \"</b> - \" + info.event.extendedProps.subtitle + \"</span>\"\n        info.el.firstChild.innerHTML = title\n      }\n      return filters.includes(info.event.extendedProps.resourceId);\n    }\n  });\n  $(function() {\n    calendar.setOption('locale', target.dataset.locale);\n    calendar.render();\n    $(\".cal-filter\").on(\"click\", function() {\n      $(this).toggleClass(\"hollow\");\n      let filter = $(this).attr(\"id\");\n      if (filters.includes(filter)) {\n        filters = removeFilter(filters, filter)\n      } else {\n        filters.push(filter)\n      }\n      calendar.rerenderEvents()\n    });\n  });\n});\n"],"mappings":"AAAAA,CAAC,CAAC,YAAM;EACN,IAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAc,CAAC,+CAA+C,CAAC;EACvF,IAAIC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,kBAAkB,CAACN,MAAM,CAACO,OAAO,CAACC,SAAS,CAAC,CAAC;EAEtE,SAASC,YAAYA,CAACN,OAAO,EAAEO,MAAM,EAAC;IACpC,OAAOP,OAAO,CAACO,MAAM,CAAC,UAACC,OAAO;MAAA,OAAKA,OAAO,KAAKD,MAAM;IAAA,EAAC;EACxD;EAEA,IAAME,UAAU,GAAGX,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC;EACtD,IAAMW,QAAQ,GAAG,IAAIC,QAAQ,CAACF,UAAU,EAAE;IACxCG,OAAO,EAAE,CAACC,cAAc,EAAEC,aAAa,CAAC;IACxCC,WAAW,EAAE,cAAc;IAC3BC,MAAM,EAAE,IAAI;IACZC,MAAM,EAAE;MACNC,IAAI,EAAE,iBAAiB;MACvBC,MAAM,EAAE,OAAO;MACfC,KAAK,EAAE;IACT,CAAC;IACDC,MAAM,EAAE,MAAM;IACdC,eAAe,EAAE;MACfC,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE,SAAS;MACjBC,MAAM,EAAE,KAAK;MACbC,cAAc,EAAE;IAClB,CAAC;IACDC,MAAM,EAAE1B,IAAI,CAACC,KAAK,CAACC,kBAAkB,CAACN,MAAM,CAACO,OAAO,CAACuB,MAAM,CAAC,CAAC;IAC7DC,WAAW,EAAE,SAAAA,YAASC,IAAI,EAAE;MAC1B,IAAI,UAAU,IAAIA,IAAI,CAACC,KAAK,CAACC,aAAa,EAAE;QAC1CC,KAAK,GAAG,8BAA8B,GAAGH,IAAI,CAACC,KAAK,CAACE,KAAK,GAAG,SAAS,GAAGH,IAAI,CAACC,KAAK,CAACC,aAAa,CAACE,QAAQ,GAAG,SAAS;QACrHJ,IAAI,CAACK,EAAE,CAACC,UAAU,CAACC,SAAS,GAAGJ,KAAK;MACtC;MACA,OAAOhC,OAAO,CAACqC,QAAQ,CAACR,IAAI,CAACC,KAAK,CAACC,aAAa,CAACO,UAAU,CAAC;IAC9D;EACF,CAAC,CAAC;EACF1C,CAAC,CAAC,YAAW;IACXc,QAAQ,CAAC6B,SAAS,CAAC,QAAQ,EAAE1C,MAAM,CAACO,OAAO,CAACY,MAAM,CAAC;IACnDN,QAAQ,CAAC8B,MAAM,CAAC,CAAC;IACjB5C,CAAC,CAAC,aAAa,CAAC,CAAC6C,EAAE,CAAC,OAAO,EAAE,YAAW;MACtC7C,CAAC,CAAC,IAAI,CAAC,CAAC8C,WAAW,CAAC,QAAQ,CAAC;MAC7B,IAAInC,MAAM,GAAGX,CAAC,CAAC,IAAI,CAAC,CAAC+C,IAAI,CAAC,IAAI,CAAC;MAC/B,IAAI3C,OAAO,CAACqC,QAAQ,CAAC9B,MAAM,CAAC,EAAE;QAC5BP,OAAO,GAAGM,YAAY,CAACN,OAAO,EAAEO,MAAM,CAAC;MACzC,CAAC,MAAM;QACLP,OAAO,CAAC4C,IAAI,CAACrC,MAAM,CAAC;MACtB;MACAG,QAAQ,CAACmC,cAAc,CAAC,CAAC;IAC3B,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}